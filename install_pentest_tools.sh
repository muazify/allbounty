#!/bin/bash

# Array of Kali Linux tools to install (excluding Mobile Hacking and SecLists)
tools=(
    nmap
    wireshark
    metasploit-framework
    aircrack-ng
    burpsuite
    owasp-zap
    sqlmap
    hydra
    john
    hashcat
    nikto
    dirb
    wpscan
    nessus-essentials # Note: Nessus Essentials requires manual setup after install.
    openvas
    maltego
    theharvester
    recon-ng
    sublist3r
    amass
    masscan
    responder
    impacket
    crackmapexec
    evil-winrm
    searchsploit
    armitage
    beef-xss
    set
    fern-wifi-cracker
    pixiewps
    reaver
    xplico
    autopsy
    volatility
    binwalk
    foremost
    chkrootkit
    rkhunter
    nuclei
    ffuf
    dirsearch
    feroxbuster
    httpx
    waybackurls
    meg
    hakrawler
    sn1per
    rengine
    autorecon
    osmedeus
    keyhacks
    cyberchef
)

# Function to check if a tool is installed
is_installed() {
    command -v "$1" &> /dev/null
}

# Function to install a tool
install_tool() {
    if is_installed "$1"; then
        echo "Tool '$1' is already installed."
    else
        echo "Installing '$1'..."
        sudo apt-get update
        sudo apt-get install -y "$1"
        if [ $? -eq 0 ]; then
            echo "Tool '$1' installed successfully."
        else
            echo "Failed to install '$1'."
        fi
    fi
}

# Install each tool in the array
for tool in "${tools[@]}"; do
    install_tool "$tool"
done

# Handle Nessus Essentials (requires manual setup)
if [[ "${tools[@]}" =~ "nessus-essentials" ]]; then
    echo "Nessus Essentials requires manual setup. Please follow the instructions on the Tenable website."
    echo "You can start Nessus Essentials with: sudo /bin/systemctl start nessusd.service"
fi

echo "Installation process completed."
